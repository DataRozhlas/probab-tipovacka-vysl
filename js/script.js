var hist = {'q6': [2, 1, 0, 3, 6, 6, 2, 8, 5, 5, 20, 9, 1, 7, 6, 21, 10, 11, 8, 11, 80, 20, 15, 16, 23, 109, 23, 18, 21, 9, 136, 37, 32, 48, 27, 64, 13, 20, 25, 20, 159, 33, 25, 18, 10, 32, 8, 6, 7, 4, 598, 14, 9, 7, 14, 66, 15, 11, 24, 28, 166, 32, 21, 17, 16, 67, 29, 11, 14, 11, 72, 16, 14, 8, 5, 39, 5, 4, 0, 4, 20, 3, 2, 0, 2, 3, 3, 1, 0, 1, 3, 1, 2, 1, 1, 2, 0, 0, 0, 0, 3], 'q1': [2, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 30, 0, 0, 0, 2, 1, 0, 0, 1, 1, 8, 5, 0, 2, 4, 8, 8, 2, 4, 7, 25, 7, 5, 6, 11, 41, 20, 15, 17, 17, 97, 24, 27, 24, 36, 82, 32, 31, 38, 45, 214, 52, 33, 25, 41, 164, 55, 41, 29, 60, 1172], 'q2': [3, 0, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 2, 0, 0, 0, 2, 1, 0, 0, 0, 1, 1, 0, 0, 0, 6, 1, 0, 0, 2, 0, 0, 1, 0, 1, 60, 0, 1, 2, 0, 0, 2, 1, 0, 1, 7, 5, 3, 8, 3, 17, 12, 8, 14, 8, 41, 6, 16, 13, 13, 58, 18, 18, 21, 26, 132, 26, 30, 36, 29, 94, 35, 31, 33, 40, 231, 50, 36, 29, 44, 126, 45, 31, 31, 46, 1003], 'q3': [2, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 2, 0, 2, 1, 1, 2, 1, 1, 5, 10, 6, 6, 9, 1, 15, 8, 8, 9, 12, 60, 17, 18, 24, 19, 80, 26, 17, 31, 29, 215, 39, 47, 36, 30, 168, 39, 56, 49, 84, 1378], 'q4': [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 20, 1, 0, 0, 0, 2, 1, 0, 2, 0, 4, 1, 2, 1, 4, 0, 1, 2, 2, 4, 14, 6, 2, 11, 8, 26, 15, 11, 10, 17, 88, 29, 28, 21, 37, 104, 28, 34, 35, 52, 283, 54, 44, 40, 55, 169, 48, 34, 38, 59, 1134], 'q5': [1, 0, 0, 0, 0, 1, 0, 0, 1, 2, 2, 0, 0, 0, 1, 1, 0, 0, 0, 0, 5, 0, 1, 0, 3, 4, 5, 2, 0, 1, 9, 4, 1, 2, 3, 5, 4, 2, 4, 4, 14, 5, 6, 4, 5, 6, 0, 1, 2, 4, 142, 6, 4, 4, 6, 25, 11, 11, 20, 18, 142, 28, 30, 20, 28, 92, 51, 37, 31, 31, 184, 46, 47, 57, 61, 288, 61, 42, 36, 37, 323, 54, 37, 27, 32, 152, 29, 17, 15, 22, 120, 16, 6, 5, 6, 10, 0, 1, 1, 1, 3], 'q7': [0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 1, 1, 1, 0, 0, 2, 0, 0, 2, 2, 2, 3, 3, 1, 4, 6, 1, 1, 1, 1, 3, 1, 2, 2, 3, 13, 2, 2, 2, 1, 6, 4, 1, 2, 2, 304, 15, 2, 1, 5, 15, 3, 7, 5, 12, 91, 33, 12, 19, 16, 78, 58, 26, 30, 44, 205, 46, 48, 39, 64, 348, 64, 41, 31, 47, 336, 53, 38, 16, 29, 103, 18, 16, 19, 19, 115, 8, 4, 2, 2, 19, 3, 1, 1, 0, 4], 'q8': [3, 0, 0, 1, 2, 2, 0, 1, 2, 2, 7, 4, 0, 3, 3, 6, 1, 3, 1, 4, 22, 8, 6, 10, 4, 42, 9, 9, 8, 7, 54, 7, 13, 18, 8, 21, 17, 22, 7, 17, 81, 15, 18, 5, 4, 25, 16, 10, 12, 9, 979, 21, 12, 11, 10, 53, 19, 15, 8, 19, 185, 26, 19, 21, 18, 83, 48, 26, 24, 22, 122, 23, 18, 12, 13, 117, 18, 6, 15, 6, 40, 3, 5, 2, 4, 17, 3, 4, 0, 0, 5, 1, 1, 0, 0, 2, 0, 2, 0, 0, 5], 'q9': [3, 0, 0, 0, 0, 2, 1, 0, 3, 2, 7, 1, 0, 4, 1, 9, 3, 1, 4, 3, 39, 7, 10, 10, 6, 51, 17, 15, 15, 16, 77, 20, 12, 23, 12, 45, 11, 13, 19, 17, 125, 23, 15, 13, 11, 39, 8, 11, 14, 13, 1567, 14, 13, 8, 12, 34, 6, 4, 9, 6, 49, 13, 7, 4, 8, 23, 9, 6, 2, 3, 7, 4, 0, 2, 1, 8, 1, 1, 0, 0, 2, 0, 1, 1, 0, 0, 0, 1, 0, 1, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4], 'q10': [1, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 2, 0, 1, 0, 0, 2, 1, 1, 0, 3, 3, 2, 1, 2, 7, 2, 0, 2, 7, 15, 7, 2, 4, 6, 10, 4, 2, 6, 6, 23, 6, 4, 4, 6, 6, 1, 1, 1, 3, 124, 25, 8, 13, 16, 73, 27, 37, 31, 55, 427, 87, 75, 51, 66, 186, 117, 79, 44, 52, 225, 39, 35, 36, 47, 238, 29, 17, 15, 17, 57, 7, 9, 9, 6, 14, 4, 1, 0, 2, 5, 2, 0, 1, 0, 3, 0, 0, 0, 0, 2], 'q13': [3, 0, 0, 0, 0, 5, 0, 3, 1, 1, 24, 5, 5, 5, 5, 40, 15, 7, 11, 20, 157, 32, 32, 27, 37, 211, 33, 18, 31, 27, 207, 37, 40, 67, 31, 86, 34, 20, 23, 34, 122, 34, 20, 16, 12, 13, 11, 3, 7, 13, 717, 9, 5, 7, 6, 17, 6, 6, 6, 4, 42, 10, 10, 3, 9, 16, 10, 5, 6, 4, 15, 4, 6, 3, 4, 10, 6, 3, 1, 2, 2, 1, 0, 1, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0], 'q14': [9, 38, 54, 64, 72, 453, 107, 89, 63, 111, 578, 117, 62, 30, 46, 150, 44, 31, 27, 38, 161, 24, 22, 6, 11, 43, 9, 6, 2, 8, 17, 5, 7, 6, 3, 5, 2, 3, 1, 1, 4, 1, 0, 0, 0, 1, 0, 1, 0, 1, 33, 1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 2, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 2, 1, 0, 2, 1, 1, 4, 1, 1, 0, 0, 0, 1, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5], 'q11': [2, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 2, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 17, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 2, 0, 2, 1, 2, 6, 1, 2, 2, 2, 5, 3, 5, 0, 3, 11, 6, 3, 5, 4, 30, 7, 8, 18, 14, 84, 34, 23, 23, 34, 109, 37, 40, 59, 103, 1886], 'q12': [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 3, 3, 1, 3, 2, 2, 1, 2, 3, 4, 12, 1, 0, 2, 3, 2, 0, 1, 3, 0, 139, 2, 2, 1, 3, 7, 6, 2, 6, 10, 73, 21, 17, 21, 23, 76, 52, 37, 39, 39, 261, 65, 50, 53, 72, 404, 86, 66, 49, 51, 348, 71, 41, 27, 23, 73, 19, 14, 15, 19, 65, 11, 6, 6, 2, 4, 2, 2, 0, 1, 14], 'q15': [1813, 147, 82, 67, 54, 130, 25, 24, 18, 16, 54, 14, 1, 5, 3, 13, 6, 6, 4, 1, 14, 1, 1, 0, 1, 4, 0, 4, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 0, 0, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0, 2, 2, 0, 1, 1, 1, 3, 0, 0, 2, 2, 2, 1, 4, 1, 4, 3, 4, 2, 5, 75]};

// otazky
var questions = { "q1": "jistě",
 "q2": "každopádně",
 "q3": "určitě",
 "q4": "rozhodně",
 "q5": "nejspíš",
 "q6": "snad",
 "q7": "pravděpodobně",
 "q8": "asi",
 "q9": "možná",
 "q10": "spíše",
 "q11": "vždy",
 "q12": "často",
 "q13": "občas",
 "q14": "vzácně",
 "q15": "nikdy" };

for (qid in questions) {
        var response = hist[qid];
        var total = 0;
        var sum = 0;

        var medianArr = [];

        for (var i = 0; i < response.length; i++) {
          for (var times = 0; times < response[i]; times++) {
            medianArr.push(i);
          }
        }

        var median = medianArr[Math.round(medianArr.length/2)];

        for (i in response) {
            total += response[i];
        }

        for (i in response) {
            response[i] = (Math.round( (response[i] / total * 100) * 100) )/100;
        }
        for (i = 0; i <= 100; i++) {
            if (!(i in response)) {
                response[i] = 0;
            };
        };

        var div = document.createElement("div");
        div.innerHTML = '<h3>' + questions[qid] + '</h3>';
        div.innerHTML += '<div id="chart' + qid + '" style="width: 100%; margin: 0 auto"></div>';
        div.innerHTML += '<div class="result" id="res' + qid + '">Medián tipu je <b>' + Math.round(median) + ' %</b>.</div>';
        document.querySelector("#"+qid).appendChild(div);

        var chart = Highcharts.chart('chart' + qid, {
            chart: {
                type: 'column',
                height: 150
            },
            title: {
                text: null
            },
            xAxis: {
                crosshair: true,
            },
            legend: {
                enabled: false
            },
            credits: {
                enabled: false
            },
            yAxis: {
                min: 0,
                max: 75,
                endOnTick: false,
                tickAmount: 4,
                title: {
                    text: 'Podíl hlasů'
                },
                labels: {
                    format: "{value} %"
                }
            },
            plotOptions: {

                column: {
                    pointPadding: 0.1,
                    borderWidth: 0,
                    events: {
                        legendItemClick: function () {
                            return false; 
                        }
                    }
                }
            },
            tooltip: {
                pointFormat: '<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.y} %</b> čtenářů<br/>'
            },
            series: [{
                name: 'Hodnotu zadalo',
                data: response
            }]
        });
}